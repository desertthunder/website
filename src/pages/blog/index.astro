---
import { getCollection } from "astro:content";
import Base from "../../layouts/Base.astro";
import Terminal from "../../components/Terminal.astro";
import Command from "../../components/Command.astro";
import Output from "../../components/Output.astro";
import BlogPostCard from "../../components/BlogPostCard.astro";

const posts = (await getCollection("blog"))
  .filter((post) => !post.data.draft)
  .sort((a, b) => b.data.date.valueOf() - a.data.date.valueOf());
---

<Base title="Blog â€” Owais Jamil">
  <Terminal title="blog">
    <Command>ls ~/blog/</Command>
    <Output>
      {
        posts.map((post) => (
          <BlogPostCard
            slug={post.slug}
            title={post.data.title}
            description={post.data.description}
            date={post.data.date}
            tags={post.data.tags}
          />
        ))
      }
    </Output>
  </Terminal>
</Base>
