---
import { getCollection } from "astro:content";
import Base from "../../layouts/Base.astro";
import Terminal from "../../components/Terminal.astro";
import Command from "../../components/Command.astro";
import Output from "../../components/Output.astro";
import linkifyString from "linkify-string";

const linkedText = (text: string) => linkifyString(text);
const bookmarks = (await getCollection("bookmarks")).sort(
  (a, b) => b.data.date.valueOf() - a.data.date.valueOf(),
);
---

<Base title="Bookmarks — Owais Jamil">
  <Terminal title="bookmarks">
    <Command>ls bookmarks.txt</Command>
    <Output>
      {
        bookmarks.map((bookmark) => (
          <div>
            <span>
              <strong>{bookmark.data.title}</strong> →
            </span>
            <span style="font-size:14px" set:html={linkedText(bookmark.data.url)} />
          </div>
        ))
      }
    </Output>
  </Terminal>
</Base>
